<div class="container-fluid p-4">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h1 class="h2 fw-semibold text-dark mb-2">Risk Reports</h1>
    </div>
    <button class="btn btn-outline-secondary" (click)="exportReport()">
      <i class="bi bi-download me-2"></i>
      Export Report
    </button>
  </div>

  <!-- Filter Controls -->
  <div class="row mb-4">
    <div class="col-md-4">
      <label for="reportSelect" class="form-label">Report Type</label>
      <select 
        id="reportSelect" 
        class="form-select" 
        [(ngModel)]="selectedReport" 
        (ngModelChange)="onReportChange($event)">
        <option *ngFor="let option of reportOptions" [value]="option.value">
          {{ option.label }}
        </option>
      </select>
    </div>
    <div class="col-md-4">
      <label for="timeFrameSelect" class="form-label">Time Frame</label>
      <select 
        id="timeFrameSelect" 
        class="form-select" 
        [(ngModel)]="timeFrame" 
        (ngModelChange)="onTimeFrameChange($event)">
        <option *ngFor="let option of timeFrameOptions" [value]="option.value">
          {{ option.label }}
        </option>
      </select>
    </div>
    <div class="col-md-4">
      <label for="businessUnitSelect" class="form-label">Business Unit</label>
      <select 
        id="businessUnitSelect" 
        class="form-select" 
        [(ngModel)]="businessUnit" 
        (ngModelChange)="onBusinessUnitChange($event)">
        <option *ngFor="let option of businessUnitOptions" [value]="option.value">
          {{ option.label }}
        </option>
      </select>
    </div>
  </div>

  <!-- Report Content -->
  <div class="report-content">
    <!-- Risk Overview -->
    <app-risk-overview 
      *ngIf="selectedReport === 'Risk Overview'"
      [timeFrame]="timeFrame"
      [businessUnit]="businessUnit">
    </app-risk-overview>

    <!-- Risk Trends -->
    <app-risk-trends 
      *ngIf="selectedReport === 'Risk Trends'"
      [timeFrame]="timeFrame"
      [businessUnit]="businessUnit">
    </app-risk-trends>

    <!-- Action Status -->
    <app-action-status 
      *ngIf="selectedReport === 'Action Status'"
      [timeFrame]="timeFrame"
      [businessUnit]="businessUnit">
    </app-action-status>

    <!-- Department Performance -->
    <app-department-performance 
      *ngIf="selectedReport === 'Department Performance'"
      [timeFrame]="timeFrame"
      [businessUnit]="businessUnit">
    </app-department-performance>
  </div>
</div>
