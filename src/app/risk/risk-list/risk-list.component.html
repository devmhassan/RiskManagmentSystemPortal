<div class="risk-management-container">
  <!-- Header -->
  <div class="header">
    <h1 class="title">Risk Management</h1>
    <div class="header-actions">
      <button class="refresh-btn" (click)="refreshRisks()" [disabled]="isLoading">
        <span class="refresh-icon">â†»</span>
        Refresh
      </button>
      <button class="new-risk-btn" (click)="navigateToNewRisk()">
        <span class="plus-icon">+</span>
        New Risk
      </button>
    </div>
  </div>

  <!-- Tab Navigation -->
  <div class="tab-navigation">
    <button 
      class="tab" 
      [class.active]="selectedTab === 'register'"
      (click)="selectTab('register')">
      Risk Register
    </button>
    <button 
      class="tab" 
      [class.active]="selectedTab === 'matrix'"
      (click)="selectTab('matrix')">
      Risk Matrix
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading risks...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !isLoading" class="error-container">
    <p class="error-message">{{ error }}</p>
    <button class="retry-btn" (click)="loadRisks()">Try Again</button>
  </div>

  <!-- Risk Register Content -->
  <div *ngIf="selectedTab === 'register' && !isLoading && !error" class="risk-register">
    <app-shared-risk-list 
      [risks]="risks"
      [isDashboard]="false"
      [showTitle]="false"
      [showPagination]="true"
      [maxItems]="0"
      [isLoading]="isLoading"
      [error]="error">
    </app-shared-risk-list>
  </div>

  <!-- Risk Matrix Content -->
  <div *ngIf="selectedTab === 'matrix' && !isLoading && !error" class="risk-matrix">
    <app-shared-risk-matrix 
      [risks]="risks"
      [showTitle]="true"
      [showLegend]="true"
      [showDetails]="true"
      [interactive]="true"
      title="Risk Matrix"
      subtitle="Visualize risks based on likelihood and severity."
      (cellClicked)="onMatrixCellClick($event)">
    </app-shared-risk-matrix>
  </div>
</div>
